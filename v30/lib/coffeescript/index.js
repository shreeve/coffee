// Generated by CoffeeScript 2.8.0

let CoffeeScript;

import * as CoffeeScriptCore from './coffeescript.js';

CoffeeScript = Object.assign({}, CoffeeScriptCore, {
  run: async (code, options = {}) => {
    let compiled, ref, vm;
    if (typeof process !== 'undefined' && ((ref = process.versions) != null ? ref.node : void 0)) {
      vm = (await import('vm'));
      compiled = CoffeeScriptCore.compile(code, Object.assign({
        bare: true
      }, options));
      return vm.runInThisContext(compiled.js ?? compiled);
    } else {
      throw new Error('CoffeeScript.run is only available in Node.js environments');
    }
  },
  eval: (code, options = {}) => {
    let compiled, func;
    if (!(code = code.trim())) {
      return;
    }
    compiled = CoffeeScriptCore.compile(code, Object.assign({
      bare: true
    }, options));
    func = eval;
    return func(compiled.js ?? compiled);
  }
});

export * from './coffeescript.js';

export default CoffeeScript;
